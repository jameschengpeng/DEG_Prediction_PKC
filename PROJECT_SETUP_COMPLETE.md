# Project Setup Complete! ğŸ‰

Your DEG Prediction PKC project has been successfully set up. Here's what was created:

## ğŸ“ Directory Structure

```
DEG_Prediction_PKC/
â”œâ”€â”€ README.md                          # Project overview (already existed)
â”œâ”€â”€ GETTING_STARTED.md                 # Step-by-step setup guide for beginners
â”œâ”€â”€ requirements.txt                   # Python dependencies
â”œâ”€â”€ .gitignore                        # Git ignore file (excludes data files)
â”‚
â”œâ”€â”€ data/                             # Data directory
â”‚   â”œâ”€â”€ README.md                     # Data directory documentation
â”‚   â”œâ”€â”€ raw/                          # Raw datasets (empty - you'll add data here)
â”‚   â”‚   â”œâ”€â”€ DOWNLOAD_GSE43217_HERE.txt
â”‚   â”‚   â””â”€â”€ DOWNLOAD_ASTROCYTE_DATA_HERE.txt
â”‚   â””â”€â”€ processed/                    # Processed datasets (generated by scripts)
â”‚
â”œâ”€â”€ scripts/                          # Analysis scripts
â”‚   â”œâ”€â”€ README.md                     # Scripts documentation
â”‚   â”œâ”€â”€ config.py                     # Configuration file (UPDATE FILE PATHS HERE!)
â”‚   â”œâ”€â”€ run_analysis.py              # Main runner script
â”‚   â”œâ”€â”€ step1_download_preprocess.py # Step 1: Download & preprocess
â”‚   â”œâ”€â”€ step2_deg_analysis.py        # Step 2: DEG analysis
â”‚   â”œâ”€â”€ step3_map_gene_panel.py      # Step 3: Map gene panel
â”‚   â”œâ”€â”€ step4_generate_predictions.py # Step 4: Generate predictions
â”‚   â””â”€â”€ step5_visualize.py           # Step 5: Create visualizations
â”‚
â”œâ”€â”€ results/                          # Analysis results
â”‚   â”œâ”€â”€ figures/                      # Plots and visualizations
â”‚   â””â”€â”€ tables/                       # Summary tables
â”‚
â””â”€â”€ predictions/                      # Final predictions
    â””â”€â”€ (prediction files will be saved here)
```

## ğŸš€ Quick Start Guide

### 1. Install Dependencies

```powershell
cd c:\Users\james\CBIL\Astrocyte\DEG_Prediction_PKC
pip install -r requirements.txt
```

### 2. Download Your Datasets

**Dataset 1: GSE43217 (Proxy PKC inhibition data)**
- Visit: https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE43217
- Download the series matrix file
- Save to: `data/raw/` directory

**Dataset 2: Astrocyte Expression Data**
- Choose from sources like:
  - Brain RNA-seq atlas (brainrnaseq.org)
  - GTEx portal
  - Allen Brain Atlas
- Save to: `data/raw/` directory

### 3. Update Configuration

**âš ï¸ IMPORTANT:** Edit `scripts/config.py` and update these lines:

```python
# Line ~25: Update with your GSE43217 file name
GSE43217_FILE = os.path.join(RAW_DATA_DIR, 'GSE43217_series_matrix.txt')

# Line ~31: Update with your astrocyte data file name
ASTROCYTE_EXPRESSION_FILE = os.path.join(RAW_DATA_DIR, 'your_astrocyte_file.csv')
```

### 4. Run the Analysis

```powershell
# Run all steps at once
python scripts/run_analysis.py

# Or run steps individually
python scripts/run_analysis.py 1  # Download & preprocess
python scripts/run_analysis.py 2  # DEG analysis
python scripts/run_analysis.py 3  # Map gene panel
python scripts/run_analysis.py 4  # Generate predictions
python scripts/run_analysis.py 5  # Visualize
```

## ğŸ“Š What Each Script Does

1. **Step 1** (`step1_download_preprocess.py`):
   - Downloads GSE43217 from GEO (or loads local file)
   - Normalizes expression data
   - Saves processed data

2. **Step 2** (`step2_deg_analysis.py`):
   - Identifies differentially expressed genes
   - Performs statistical tests (t-test + FDR correction)
   - Saves DEG results

3. **Step 3** (`step3_map_gene_panel.py`):
   - Filters for your gene panel (CaÂ²âº signaling genes)
   - Integrates with astrocyte expression data
   - Categorizes genes by pathway

4. **Step 4** (`step4_generate_predictions.py`):
   - Applies mechanistic reasoning
   - Predicts direction of change (up/down/no change)
   - Assigns confidence levels
   - Generates biological rationale

5. **Step 5** (`step5_visualize.py`):
   - Creates summary plots
   - Generates heatmaps
   - Produces figures for manuscript

## ğŸ“– Documentation Files

- **`GETTING_STARTED.md`**: Detailed setup instructions for beginners
- **`scripts/README.md`**: Documentation for all scripts
- **`data/README.md`**: Data directory structure and instructions

## ğŸ”§ Key Configuration Points

### Gene Panel (in `config.py`)
The default gene panel includes CaÂ²âº signaling genes:
- IP3 receptors (ITPR1/2/3)
- Phospholipase C isoforms
- SERCA and PMCA pumps
- Calcium channels and buffers
- PKC isoforms
- SOCE components

**To customize:** Edit the `GENE_PANEL` list in `scripts/config.py`

### Analysis Parameters (in `config.py`)
```python
DEG_PARAMS = {
    'p_value_threshold': 0.05,
    'adj_p_value_threshold': 0.05,  # FDR
    'log2fc_threshold': 0.5,         # Fold change cutoff
    'expression_threshold': 1.0,     # Min expression in astrocytes
}
```

## ğŸ“ Expected Outputs

After running the full pipeline, you'll have:

### Data Files:
- `data/processed/gse43217_processed.csv` - Normalized proxy data
- `data/processed/deg_analysis_results.csv` - DEG statistics
- `data/processed/gene_panel_astrocyte_expression.csv` - Gene panel data

### Prediction Files:
- `predictions/pkc_ko_predictions.csv` - Final predictions (CSV)
- `predictions/pkc_ko_predictions.xlsx` - Final predictions (Excel)

### Figures:
- `results/figures/prediction_summary_by_pathway.png`
- `results/figures/predictions_heatmap.png`
- `results/figures/confidence_distribution.png`
- `results/figures/volcano_plot.png`

### Tables:
- `results/tables/prediction_summary_by_pathway.csv`

## âš ï¸ Important Notes for Beginners

1. **Data files are NOT included** - You must download them separately
2. **Update file paths in config.py** after downloading data
3. **Run steps in order** (1 â†’ 2 â†’ 3 â†’ 4 â†’ 5)
4. **Check intermediate outputs** after each step
5. **Read error messages carefully** - they usually tell you what's wrong

## ğŸ› Common Issues & Solutions

### "Module not found" error
```powershell
pip install <missing_module>
```

### "File not found" error
- Check that you downloaded the datasets
- Verify file paths in `scripts/config.py`

### "Could not identify sample groups"
- You may need to manually edit `step2_deg_analysis.py`
- Look at the metadata to identify control vs treated samples

## ğŸ”„ Next Steps After Setup

1. âœ… Install dependencies (`pip install -r requirements.txt`)
2. âœ… Download GSE43217 dataset
3. âœ… Download astrocyte expression data
4. âœ… Update file paths in `scripts/config.py`
5. âœ… Run the analysis pipeline
6. âœ… Review the predictions
7. âœ… Customize gene panel if needed
8. âœ… Integrate with your CaÂ²âº model

## ğŸ“š Additional Resources

- **GEO Database**: https://www.ncbi.nlm.nih.gov/geo/
- **Brain RNA-seq Atlas**: https://www.brainrnaseq.org/
- **GTEx Portal**: https://gtexportal.org/
- **Allen Brain Atlas**: https://portal.brain-map.org/

## ğŸ’¡ Tips

- Start with the default gene panel to test the pipeline
- Review `GETTING_STARTED.md` for detailed instructions
- Keep notes on your customizations
- Save important results in the `predictions/` directory
- Commit your code (but not data files) to git

## ğŸ†˜ Getting Help

If you encounter issues:
1. Check the documentation files
2. Review error messages in terminal
3. Look at log files in `results/` directory
4. Verify all input files are in correct format
5. Try running steps individually to isolate problems

---

**Ready to start?** Read `GETTING_STARTED.md` for detailed instructions!

Good luck with your analysis! ğŸ§¬ğŸ”¬
